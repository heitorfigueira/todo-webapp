<div class="w-full h-screen flex justify-around content-center">
  <mat-card *ngIf="template"
    class="
    h-1/2 p-10 shadow-none rounded-none">
    <mat-card-title class="">{{ template.title }}</mat-card-title>
    <mat-card-subtitle class="">{{ template.subtitle }}</mat-card-subtitle>

    <mat-card-content class="flex-col">
      <form [formGroup]="form">
        <mat-form-field *ngFor="let field of template.fields; index as i"
          class="flex justify-around"
          appearance="outline">

          <mat-label>{{ field.name }}</mat-label>

          <input
            matInput
            [formControlName]="field.name.toLowerCase()"
            [title]="field.name"
            [placeholder]="field.name">

          <mat-icon
            *ngIf="field.icon && !field.enableVisibility; else visibility"
            matSuffix>{{ field.icon }}
          </mat-icon>
          <ng-template #visibility>
            <button *ngIf="!!field.enableVisibility"
              mat-icon-button matSuffix
              [type]="field.enableVisibility ? 'password' : 'text'"
              (click)="field.enableVisibility = !field.enableVisibility"
              [attr.aria-label]="'Hide password'"
              [attr.aria-pressed]="field.enableVisibility">
              <mat-icon>{{ field.enableVisibility ? 'visibility_off' : 'visibility' }}</mat-icon>
            </button>
          </ng-template>
        </mat-form-field>
      </form>
    </mat-card-content>

    <mat-card-actions class="flex justify-end">
      <button
        class="border border-solid"
        (click)="submit()"
        [disabled]="!form.valid"
        mat-stroked-button>{{ template.submitText ?? 'Submit'}}</button>
    </mat-card-actions>
  </mat-card>
</div>

